{
	"build": [
		"composer -- pup",
		"pup do build-common",
		"composer install --no-dev",
		"npm ci --no-audit --no-fund",
		"npm run build",
		"npm run before-zip"
	],
	"build_dev": [
		"composer -- pup",
		"pup do build-common",
		"composer install",
		"npm ci --no-audit --no-fund",
		"npm run build",
		"npm run before-zip"
	],
	"workflows": {
		"build-common": [
			"cd common && composer -- pup && pup build"
		],
		"tec-zip": [
			"git submodule update --recursive --init",
			"pup build",
			"pup check",
			"pup i18n",
			"cd common && composer -- pup && pup i18n",
			"pup package $(pup get-version)",
			"pup clean"
		],
		"tec-zip-dev": [
			"git submodule update --recursive --init",
			"pup build",
			"pup package $(pup get-version)",
			"pup clean"
		]
	},
	"checks": {
		"tbd": {
			"dirs": [
				"src",
				"common/src"
			]
		},
		"version-conflict": {
			"fail_method": "error",
			"fail_method_dev": "warn"
		}
	},
	"i18n": [
		{
			"slug": "wp-plugins/the-events-calendar/stable",
			"textdomain": "the-events-calendar",
			"url": "https://translate.wordpress.org"
		},
		{
			"slug": "the-events-calendar",
			"textdomain": "the-events-calendar",
			"url": "https://translations.stellarwp.com/glotpress/"
		}
	],
	"paths": {
		"changelog": "readme.txt",
		"css": [
			"src/resources/postcss",
			"common/src/resources/postcss"
		],
		"js": [
			"src/resources/js",
			"src/modules",
			"common/src/resources/js",
			"common/src/modules"
		],
		"sync_files": [
			"common/.distfiles",
			"common/.gitattributes"
		],
		"versions": [
			{
				"file": "src/Tribe/Main.php",
				"regex": "(const VERSION += ')([^']+)"
			},
			{
				"file": "the-events-calendar.php",
				"regex": "(Version: )(.+)"
			},
			{
				"file": "package.json",
				"regex": "(\"version\": ?\")([^\"]+)"
			},
			{
				"file": "readme.txt",
				"regex": "(Stable tag: )(.+)"
			}
		],
		"views": [
			"src/views",
			"common/src/views"
		]
	},
	"zip_name": "the-events-calendar"
}
