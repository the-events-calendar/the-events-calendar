name: 'Codeception Tests'
on:
  pull_request:
jobs:
  test:
    # MODIFIED: Using reusable slic-test-runner workflow for each suite
    uses: ./.github/workflows/reusable/slic-test-runner.yml
    strategy:
      matrix:
        suite:
          - aggregatorv1
          - blocks_editor_integration
          - embed_calendar_integration
          - event_status
          - integration
          - muintegration
          - restv1
          - views_integration
          - views_settings
          - views_ui
          - views_v2_customizer_integration
          - views_widgets
          - views_wpunit
          - ct1_integration
          - ct1_multisite_integration
          - deprecated
          # really weird error with RBE changes.
          # - views_rest
          - wp_json_api
          - ct1_wp_json_api
          - ct1_migration
          - rewrite_functional
          - wpunit
    with:
      suite: ${{ matrix.suite }}
      skip-flag: tests-php
    secrets:
      gh-bot-token: ${{ secrets.GH_BOT_TOKEN }}
